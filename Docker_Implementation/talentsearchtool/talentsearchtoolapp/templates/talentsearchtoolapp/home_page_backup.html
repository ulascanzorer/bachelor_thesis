{% extends 'django_bootstrap5/bootstrap5.html' %}

{% load django_bootstrap5 %}

{% bootstrap_css %}
{% bootstrap_javascript %}

{% block bootstrap5_content %}
<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    {% load static %}
    <link rel="stylesheet" href="{% static 'talentsearchtoolapp/homepage.css' %}">
    <link rel="stylesheet" href="https://unpkg.com/intro.js/introjs.css">
    <title>Homepage</title>
  </head>
  <body>
    <h1>Welcome To The Talent Search Tool!</h1>

    <form action="/" method="post">
      {% csrf_token %}

      <div id="query-div">
        <label for="{{ form.query.id_for_label }}"></label>
        {{ form.query }}
        {{ form.query.errors }}
      </div>

      <div id="publication_year-div">
        <label for="{{ form.publication_year.id_for_label }}">Publication year starting from:</label>
        {{ form.publication_year }}
        {{ form.publication_year.errors }}
      </div>

      <div id="submit-div">
        <input class="btn btn-primary" id="submit-button" type="submit">
      </div>
    </form>

    <div id="login_signup-div">
      <a class="btn btn-secondary" href="#" role="button">Login / Signup</a>
    </div>

    <div id="tutorial-div">
      <a class="btn btn-secondary" id="tutorial-button" role="button">Tutorial</a>
    </div>


    <script src="https://unpkg.com/intro.js/intro.js"></script>
    <script>
      sessionStorage.setItem("tutorial", "false");

      const introJsInstance = introJs().setOptions({
        steps: [
          {
          title: "Welcome to the talent search tool!",
          element: document.getElementById("id_query"),
          intro: "Enter your query in this search bar!",
          },
          {
            element: document.getElementById("id_publication_year"),
            intro: "Choose the earliest publication year for the works to be considered!",
          },
          {
            element: document.getElementById("submit-button"),
            intro: "Submit your query by clicking the button!",
          },
        ]
      });

      const tutorialElement = document.getElementById("tutorial-button");
      tutorialElement.addEventListener("click", function() {
        introJsInstance.start();
        // Set the tutorial to true, so that we can check it later in the other pages.
        sessionStorage.setItem("tutorial", "true");
      });
    </script>
  </body>
</html>
{% endblock %}